<header>
    <h1>{{ "CURRICULUM VITAE" | t }}</h1>
    <div>Please Fill Out the Appropriate Information</div>
</header>
<main>
    <form (submit)="onSubmitUpdate()">
        <div class="container-fluid">
            <div class="file-inputs row">
                <div class="profile col">
                    <input type="file" (change)="fileUpload.onChangeFile($event)">
                    <div class="profile-photo">
                        <img src="{{ a.userProfilePhoto( files )}}">
                    </div>
                    <xapi-file-upload-component #fileUploadWidget [title]="false" [fileSelectionButton]="false"
                                                [files]="files"
                                                [showUploadedFiles]="false"
                                                (success)="onSuccessUploadPicture($event)">
                    </xapi-file-upload-component>
                    <span class="button">
                        <svg class="icon" aria-hidden="true" data-prefix="fa" data-icon="camera" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"></path></svg>
                        Primary Photo
                    </span>
                </div>
                <div class="qrmark col">
                    <input type="file" (change)="fileUploadQRMark.onChangeFile($event)">
                    <div *ngIf="a.user.isLogin" (click)="fileUploadQRMark.onClickCamera()">
                        <ng-container *ngIf="!showQRMark">
                            <div>Upload QR Mark</div>
                            <svg class="qrmark-icon" viewBox="0 0 448 512"><path fill="currentColor" d="M0 224h192V32H0v192zM32 64h128v128H32V64zm224-32v192h192V32H256zm160 160H288V64h128v128zM0 480h192V288H0v192zm32-160h128v128H32V320zM64 96h64v64H64V96zm320 64h-64V96h64v64zM64 352h64v64H64v-64zm352-64h32v128H320v-32h-32v96h-32V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"/></svg>
                        </ng-container>
                        <ng-container *ngIf="showQRMark">
                            <div class="qrmark-photo">
                                <img src="{{qrmarks[0].url}}">
                            </div>
                        </ng-container>
                        <div class="note">
                            QR Mark is required for teacher, open your mobile KakaoTalk > Edit Profile>
                            My QR Code > Click Download.
                        </div>
                    </div>
                    <xapi-file-upload-component #fileUploadWidgetQRMARK
                                                [title]="false"
                                                [fileSelectionButton]="false"
                                                [files]="qrmarks"
                                                [showUploadedFiles]="false"
                                                (success)="onSuccessUploadQRMark( $event )">
                    </xapi-file-upload-component>
                    <span class="button">
                            <svg class="icon" aria-hidden="true" data-prefix="fal" data-icon="qrcode" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M0 224h192V32H0v192zM32 64h128v128H32V64zm224-32v192h192V32H256zm160 160H288V64h128v128zM0 480h192V288H0v192zm32-160h128v128H32V320zM64 96h64v64H64V96zm320 64h-64V96h64v64zM64 352h64v64H64v-64zm352-64h32v128H320v-32h-32v96h-32V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"></path></svg>
                        {{qrmarks.length? 'UPDATE': 'UPLOAD'}} QR MARK
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div>
                        <input type="text" readonly [(ngModel)]="account.name"
                               name="name" disabled/>
                        <label>{{ 'TEACHER ID' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.fullname"
                               name="fullname"/>
                        <label>{{ 'FULL NAME' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.display_name"
                               name="display_name"/>
                        <label>{{ 'NICKNAME' | t }}</label>
                    </div>
                    <div>
                        <input type="email" [(ngModel)]="account.user_email"
                               name="user_email"/>
                        <label>{{ 'EMAIL' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.phone_number"
                               name="phone_number"/>
                        <label>{{ 'PHONE NO' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.last_education"
                               name="last_education"/>
                        <label>{{ 'SCHOOL' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.major" name="major"/>
                        <label>{{ 'MAJOR' | t }}</label>
                    </div>
                </div>
                <div class="col">
                    <div>
                        <select [(ngModel)]="account.nationality" name="nationality">
                            <option value="">Select...</option>
                            <option *ngFor="let c of a.countries" value="{{c}}">{{c}}</option>
                        </select>
                        <label>{{ 'NATIONALITY' | t }}</label>
                    </div>
                    <div>
                        <!--<ion-datetime name="birthday" max="{{minYear}}" displayFormat="MM/DD/YYYY"-->
                                      <!--pickerFormat="MMDDYYYY"-->
                                      <!--[(ngModel)]="birthday" (ngModelChange)="onChangeBirthDate()"></ion-datetime>-->
                        <!--<label>{{ 'BIRTHDAY' | t }}</label>-->

                        <div class="" style="display: inline-block; border: 1px solid grey; padding: .5em;" (click)="dp.open()">
                            {{ _birthday }}
                        </div>
                        <input name="date" [(ngModel)]="_birthday" matInput [matDatepicker]="dp" disabled style="display: none;">
                        <button matSuffix type="button" (click)="dp.open()">{{ 'BIRTHDAY' | t }}</button>
                        <mat-datepicker #dp disabled="false"></mat-datepicker>



                    </div>
                    <div>
                        <div>
                            <label><input type="radio" name="male" [(ngModel)]="account.gender" value="M">Male</label>
                            <label><input type="radio" name="female" [(ngModel)]="account.gender"
                                          value="F">Female</label>
                        </div>
                        <label>{{ 'GENDER' | t }}</label>
                    </div>
                    <div>
                        <ion-datetime displayFormat="YYYY" [(ngModel)]="account.experience"
                                      name="experience"></ion-datetime>
                        <label>{{ 'Year you start teaching' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.youtube_video_url"
                               name="youtube_video_url"/>
                        <label>{{ 'YOUTUBE VIDEO' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.kakaotalk_id"
                               name="kakaotalk_id"/>
                        <label>{{ 'KAKAOTALK ID' | t }}</label>
                    </div>
                    <div>
                        <input type="text" [(ngModel)]="account.hobby"
                               name="hobby"/>
                        <label>{{ 'HOBBIES' | t }}</label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div>
                        <input type="text" [(ngModel)]="account.address"
                               name="address"/>
                        <label>{{ 'ADDRESS' | t }}</label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="m-0 p-0">
                        <label>{{ 'GREETINGS' | t }}</label>
                        <textarea rows="8" [(ngModel)]="account.introduction" name="introduction"></textarea>
                    </div>
                    <div class="mt-5 mb-3" text-center>
                        <button>
                            {{ 'UPDATE BUTTON' | t }}
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </form>


    <div class="loader" *ngIf=" showLoader ">
        <ion-spinner></ion-spinner>
        Loading... Please Wait...
    </div>

</main>